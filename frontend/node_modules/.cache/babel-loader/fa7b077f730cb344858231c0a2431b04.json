{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { EMPTY_ID, isIdZeroLevel, createId, getRootParentId, getIdWithoutRootParentId, getAllShortIds } from './itemIdUtils';\nimport SortedPublicItemIds from './SortedPublicItemIds';\nimport { getNestedValue } from './misc';\n/**\n * @hidden\n */\n\nexport function hasChildren(item, childrenField) {\n  var children = getNestedValue(childrenField, item);\n  return Boolean(children && children.length);\n}\n/**\n * @hidden\n */\n\nexport function isItemExpandedAndWithChildren(item, fieldsSvc) {\n  return fieldsSvc.expanded(item) && hasChildren(item, fieldsSvc.getChildrenField());\n}\n/**\n * @hidden\n */\n\nexport function resolveItemId(publicId, idField, items, childrenField) {\n  var resolvedIds = resolveItemsIds([publicId], idField, items, childrenField);\n  return resolvedIds.length ? resolvedIds[0] : undefined;\n}\n/**\n * @hidden\n */\n\nexport function resolveItemsIds(publicIds, idField, items, childrenField) {\n  var result = [];\n  var sortedIds = new SortedPublicItemIds();\n  sortedIds.init(publicIds);\n  resolveItemsIdsHelper(sortedIds, idField, items, EMPTY_ID, result, childrenField);\n  return result;\n}\n/**\n * @hidden\n */\n\nexport function updateItem(items, itemId, update, cloneField, childrenField) {\n  var _a;\n\n  var itemIndex = Number(getRootParentId(itemId));\n\n  if (itemIndex >= items.length) {\n    return items;\n  }\n\n  var result = items;\n  var item = items[itemIndex]; // Clone the item before updating it.\n\n  if (!item[cloneField]) {\n    result = items.slice();\n    item = result[itemIndex] = Object.assign({}, item, (_a = {}, _a[cloneField] = true, _a));\n  } // Directly update the item.\n\n\n  if (isIdZeroLevel(itemId)) {\n    update(item);\n  } else if (item[childrenField]) {\n    item[childrenField] = updateItem(item[childrenField], getIdWithoutRootParentId(itemId), update, cloneField, childrenField);\n  }\n\n  return result;\n}\n/**\n * @hidden\n */\n\nexport function isEnabledAndAllParentsEnabled(itemId, items, fieldsSvc) {\n  var ids = getAllShortIds(itemId);\n  var currentItems = items;\n\n  for (var i = 0; i < ids.length; i++) {\n    var currentItem = currentItems[Number(ids[i])];\n\n    if (fieldsSvc.disabled(currentItem)) {\n      return false;\n    } else {\n      currentItems = currentItem[fieldsSvc.getChildrenField()];\n    }\n  }\n\n  return true;\n}\n/**\n * @hidden\n */\n\nexport function getAllDirectIndirectChildrenIds(item, itemId, childrenField, idField) {\n  return idField ? getChildrenPublicIds(item) : getChildrenHierarchicalIndices(item, itemId);\n\n  function getChildrenHierarchicalIndices(startItem, startItemId) {\n    var result = [];\n    var children = startItem[childrenField] || [];\n\n    for (var i = 0; i < children.length; i++) {\n      var id = createId(i, startItemId);\n      result.push(id);\n      result = result.concat(getChildrenHierarchicalIndices(children[i], id));\n    }\n\n    return result;\n  }\n\n  function getChildrenPublicIds(startItem) {\n    var result = [];\n    var children = startItem[childrenField] || [];\n\n    for (var i = 0; i < children.length; i++) {\n      result.push(getNestedValue(idField, children[i]));\n      result = result.concat(getChildrenPublicIds(children[i]));\n    }\n\n    return result;\n  }\n}\n/**\n * @hidden\n */\n\nexport function areAllDirectChildrenChecked(item, itemId, idField, childrenField, check) {\n  var children = item[childrenField] || [];\n  return children.every(function (child, index) {\n    return check.indexOf(idField ? getNestedValue(idField, child) : createId(index, itemId)) > -1;\n  });\n}\n/**\n * @hidden\n */\n\nexport function getAllParents(itemId, childrenField, items) {\n  var result = [];\n  var ids = getAllShortIds(itemId);\n  var currentItems = items;\n\n  for (var i = 0; i < ids.length - 1; i++) {\n    if (!currentItems) {\n      break;\n    }\n\n    var currentItem = currentItems[Number(ids[i])];\n    result.push(currentItem);\n    currentItems = currentItem[childrenField];\n  }\n\n  return result;\n}\n/**\n * @hidden\n */\n\nexport function removeItem(itemId, childrenField, items) {\n  var result = items.slice();\n\n  if (isIdZeroLevel(itemId)) {\n    result.splice(Number(itemId), 1);\n  } else {\n    var rootParentIndex = Number(getRootParentId(itemId));\n\n    var rootParent = result[rootParentIndex] = __assign({}, result[rootParentIndex]);\n\n    rootParent[childrenField] = removeItem(getIdWithoutRootParentId(itemId), childrenField, rootParent[childrenField]);\n  }\n\n  return result;\n}\n/**\n * @hidden\n */\n\nexport function addItem(item, operation, childrenField, targetItemId, items) {\n  var result = items.slice();\n\n  if (isIdZeroLevel(targetItemId)) {\n    if (operation === 'child') {\n      var targetItem = result[Number(targetItemId)] = __assign({}, result[Number(targetItemId)]);\n\n      if (targetItem[childrenField]) {\n        targetItem[childrenField] = targetItem[childrenField].slice();\n        targetItem[childrenField].push(item);\n      } else {\n        targetItem[childrenField] = [item];\n      }\n    } else {\n      result.splice(Number(targetItemId) + (operation === 'after' ? 1 : 0), 0, item);\n    }\n  } else {\n    var rootParentIndex = Number(getRootParentId(targetItemId));\n\n    var rootParent = result[rootParentIndex] = __assign({}, result[rootParentIndex]);\n\n    rootParent[childrenField] = addItem(item, operation, childrenField, getIdWithoutRootParentId(targetItemId), rootParent[childrenField]);\n  }\n\n  return result;\n}\n\nfunction resolveItemsIdsHelper(publicItemIds, idField, items, parentItemId, resolvedIds, childrenField) {\n  for (var i = 0; i < items.length; i++) {\n    var item = items[i];\n    var id = createId(i, parentItemId);\n\n    if (publicItemIds.hasId(getNestedValue(idField, item))) {\n      resolvedIds.push(id);\n    }\n\n    if (hasChildren(item, childrenField)) {\n      resolveItemsIdsHelper(publicItemIds, idField, getNestedValue(childrenField, item), id, resolvedIds, childrenField);\n    }\n  }\n}","map":{"version":3,"sources":["/Users/leecavazos/Desktop/COSC4353/COSC4353-1/frontend/node_modules/@progress/kendo-react-treeview/dist/es/utils/itemUtils.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","EMPTY_ID","isIdZeroLevel","createId","getRootParentId","getIdWithoutRootParentId","getAllShortIds","SortedPublicItemIds","getNestedValue","hasChildren","item","childrenField","children","Boolean","isItemExpandedAndWithChildren","fieldsSvc","expanded","getChildrenField","resolveItemId","publicId","idField","items","resolvedIds","resolveItemsIds","undefined","publicIds","result","sortedIds","init","resolveItemsIdsHelper","updateItem","itemId","update","cloneField","_a","itemIndex","Number","slice","isEnabledAndAllParentsEnabled","ids","currentItems","currentItem","disabled","getAllDirectIndirectChildrenIds","getChildrenPublicIds","getChildrenHierarchicalIndices","startItem","startItemId","id","push","concat","areAllDirectChildrenChecked","check","every","child","index","indexOf","getAllParents","removeItem","splice","rootParentIndex","rootParent","addItem","operation","targetItemId","targetItem","publicItemIds","parentItemId","hasId"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { EMPTY_ID, isIdZeroLevel, createId, getRootParentId, getIdWithoutRootParentId, getAllShortIds } from './itemIdUtils';\nimport SortedPublicItemIds from './SortedPublicItemIds';\nimport { getNestedValue } from './misc';\n/**\n * @hidden\n */\nexport function hasChildren(item, childrenField) {\n    var children = getNestedValue(childrenField, item);\n    return Boolean(children && children.length);\n}\n/**\n * @hidden\n */\nexport function isItemExpandedAndWithChildren(item, fieldsSvc) {\n    return fieldsSvc.expanded(item) && hasChildren(item, fieldsSvc.getChildrenField());\n}\n/**\n * @hidden\n */\nexport function resolveItemId(publicId, idField, items, childrenField) {\n    var resolvedIds = resolveItemsIds([publicId], idField, items, childrenField);\n    return resolvedIds.length ? resolvedIds[0] : undefined;\n}\n/**\n * @hidden\n */\nexport function resolveItemsIds(publicIds, idField, items, childrenField) {\n    var result = [];\n    var sortedIds = new SortedPublicItemIds();\n    sortedIds.init(publicIds);\n    resolveItemsIdsHelper(sortedIds, idField, items, EMPTY_ID, result, childrenField);\n    return result;\n}\n/**\n * @hidden\n */\nexport function updateItem(items, itemId, update, cloneField, childrenField) {\n    var _a;\n    var itemIndex = Number(getRootParentId(itemId));\n    if (itemIndex >= items.length) {\n        return items;\n    }\n    var result = items;\n    var item = items[itemIndex];\n    // Clone the item before updating it.\n    if (!item[cloneField]) {\n        result = items.slice();\n        item = result[itemIndex] = Object.assign({}, item, (_a = {}, _a[cloneField] = true, _a));\n    }\n    // Directly update the item.\n    if (isIdZeroLevel(itemId)) {\n        update(item);\n    }\n    else if (item[childrenField]) {\n        item[childrenField] = updateItem(item[childrenField], getIdWithoutRootParentId(itemId), update, cloneField, childrenField);\n    }\n    return result;\n}\n/**\n * @hidden\n */\nexport function isEnabledAndAllParentsEnabled(itemId, items, fieldsSvc) {\n    var ids = getAllShortIds(itemId);\n    var currentItems = items;\n    for (var i = 0; i < ids.length; i++) {\n        var currentItem = currentItems[Number(ids[i])];\n        if (fieldsSvc.disabled(currentItem)) {\n            return false;\n        }\n        else {\n            currentItems = currentItem[fieldsSvc.getChildrenField()];\n        }\n    }\n    return true;\n}\n/**\n * @hidden\n */\nexport function getAllDirectIndirectChildrenIds(item, itemId, childrenField, idField) {\n    return idField ? getChildrenPublicIds(item) : getChildrenHierarchicalIndices(item, itemId);\n    function getChildrenHierarchicalIndices(startItem, startItemId) {\n        var result = [];\n        var children = startItem[childrenField] || [];\n        for (var i = 0; i < children.length; i++) {\n            var id = createId(i, startItemId);\n            result.push(id);\n            result = result.concat(getChildrenHierarchicalIndices(children[i], id));\n        }\n        return result;\n    }\n    function getChildrenPublicIds(startItem) {\n        var result = [];\n        var children = startItem[childrenField] || [];\n        for (var i = 0; i < children.length; i++) {\n            result.push(getNestedValue(idField, children[i]));\n            result = result.concat(getChildrenPublicIds(children[i]));\n        }\n        return result;\n    }\n}\n/**\n * @hidden\n */\nexport function areAllDirectChildrenChecked(item, itemId, idField, childrenField, check) {\n    var children = item[childrenField] || [];\n    return children.every(function (child, index) {\n        return check.indexOf(idField ? getNestedValue(idField, child) : createId(index, itemId)) > -1;\n    });\n}\n/**\n * @hidden\n */\nexport function getAllParents(itemId, childrenField, items) {\n    var result = [];\n    var ids = getAllShortIds(itemId);\n    var currentItems = items;\n    for (var i = 0; i < ids.length - 1; i++) {\n        if (!currentItems) {\n            break;\n        }\n        var currentItem = currentItems[Number(ids[i])];\n        result.push(currentItem);\n        currentItems = currentItem[childrenField];\n    }\n    return result;\n}\n/**\n * @hidden\n */\nexport function removeItem(itemId, childrenField, items) {\n    var result = items.slice();\n    if (isIdZeroLevel(itemId)) {\n        result.splice(Number(itemId), 1);\n    }\n    else {\n        var rootParentIndex = Number(getRootParentId(itemId));\n        var rootParent = result[rootParentIndex] = __assign({}, result[rootParentIndex]);\n        rootParent[childrenField] = removeItem(getIdWithoutRootParentId(itemId), childrenField, rootParent[childrenField]);\n    }\n    return result;\n}\n/**\n * @hidden\n */\nexport function addItem(item, operation, childrenField, targetItemId, items) {\n    var result = items.slice();\n    if (isIdZeroLevel(targetItemId)) {\n        if (operation === 'child') {\n            var targetItem = result[Number(targetItemId)] = __assign({}, result[Number(targetItemId)]);\n            if (targetItem[childrenField]) {\n                targetItem[childrenField] = targetItem[childrenField].slice();\n                targetItem[childrenField].push(item);\n            }\n            else {\n                targetItem[childrenField] = [item];\n            }\n        }\n        else {\n            result.splice(Number(targetItemId) + (operation === 'after' ? 1 : 0), 0, item);\n        }\n    }\n    else {\n        var rootParentIndex = Number(getRootParentId(targetItemId));\n        var rootParent = result[rootParentIndex] = __assign({}, result[rootParentIndex]);\n        rootParent[childrenField] = addItem(item, operation, childrenField, getIdWithoutRootParentId(targetItemId), rootParent[childrenField]);\n    }\n    return result;\n}\nfunction resolveItemsIdsHelper(publicItemIds, idField, items, parentItemId, resolvedIds, childrenField) {\n    for (var i = 0; i < items.length; i++) {\n        var item = items[i];\n        var id = createId(i, parentItemId);\n        if (publicItemIds.hasId(getNestedValue(idField, item))) {\n            resolvedIds.push(id);\n        }\n        if (hasChildren(item, childrenField)) {\n            resolveItemsIdsHelper(publicItemIds, idField, getNestedValue(childrenField, item), id, resolvedIds, childrenField);\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}